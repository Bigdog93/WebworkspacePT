package com.koreait.board4;

import java.sql.Connection;
import java.sql.PreparedStatement;

//Data Access Object(DB 담당)
public class BoardDAO {

	//글 등록
	public static int insertBoard(BoardVO vo) {
		Connection con = null; // 다리연결, PreparedStatement 객체 생성해주는 아이
		PreparedStatement ps = null; // 쿼리문을 완성, 실행까지 해주는 아이
		// sql문을 ?로 해서 PreparedStatement 객체에 넣어주고, 뒤에 set메소드로 ?부분에 넣어주면 개꿀(sql문법에 따라 ''도 알아서 넣어준다.)
		// ps가 없으면, ('" + vo.getTitle() + "', '" + vo.getCtnt() + "')" 이렇게 만들어줘야한다...
		
		
		String sql = " INSERT INTO t_board (title, ctnt) VALUES (?, ?) ";
		
		try {
			con = DBUtils.getCon(); // 다리 연결...
			ps = con.prepareStatement(sql); // 연결된 다리로 부터 준비된 상태 객체 생성
			ps.setString(1, vo.getTitle());
			ps.setString(2, vo.getCtnt());
			ps.executeUpdate();
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} finally {
			DBUtils.close(con, ps);
		}
		
		return 0;
	}
}
